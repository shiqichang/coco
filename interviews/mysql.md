# MySQL

## 为什么要使用数据库？

- 数据库保存在内存：
  - 优点：存储速度快；
  - 缺点：数据不能永久保存；
- 数据库保存在文件：
  - 优点：数据永久保存；
  - 缺点：
    - 速度比内存操作慢，频繁的 I/O 操作；
    - 查询数据不方便；
- 数据保存在数据库：
  - 数据永久保存；
  - 使用 SQL 语句，查询方便效率高；
  - 管理数据方便。

## 什么是 SQL?

结构化查询语言 (Structured Query Language), 简称 SQL, 是一种数据库查询语言。

**作用**：用于存储数据、查询、更新和管理关系型数据库系统。

## 什么是 MySQL?

MySQL 是一个关系型数据库管理系统。MySQL 是最好的 RDBMS (Relational Database Management System) 应用软件之一。

## 数据库的三大范式

- **第一范式**：每个列都不可以再拆分；
- **第二范式**：在第一范式的基础上，非主键列完全依赖于主键，而不能是依赖于主键的一部分；
- **第三范式**：在第二范式的基础上，非主键列只依赖于主键，不依赖于其他非主键。

## MySQL 有关权限的表

MySQL 服务器通过权限表来控制用户对数据库的访问。权限表存放在 MySQL 数据库里，由 mysql_install_db 脚本初始化。这些权限表分别为 `user, db, tables_priv, columns_priv, host`.

- `user` 权限表：记录允许连接到服务器的用户账号信息，里面的权限是全局的；
- `db` 权限表：记录各个账号在各个数据库上的操作权限；
- `tables_priv` 权限表：记录数据表级的操作权限；
- `columns_priv` 权限表：记录数据列级的操作权限；
- `host` 权限表：配合 `db` 权限表对给定主机上数据库级操作权限做更细致的控制，这个权限表不受 GRANT 和 REVOKE 语句的影响。

## MySQL 的 binlog 有几种录入格式？分别有什么区别？

有三种格式，statement, row 和 mixed.

- `statement`: 每一条会修改数据的 sql 都会记录在 binlog 中。不需要记录每一行的变化，减少了 binlog 日志量，节约了 I/O, 提高了性能；
- `row`: 不记录 sql 语句上下文相关信息，仅保存哪条记录被修改。记录单元每一行的改动。保存的信息太多，日志量太大；
- `mixed`: 一种折中的方案，普通操作使用 statement 记录，无法使用时使用 row.

## 数据类型

![1](https://tva1.sinaimg.cn/large/008eGmZEly1gnt04sa4hjj30ui0u07bp.jpg)
