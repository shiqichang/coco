# 41 å’Œä¸ºSçš„è¿ç»­æ­£æ•°åºåˆ—

> ğŸŒŸ **å‰‘æŒ‡ Offer ç³»åˆ—**
>
> ç»™å²æœˆä»¥æ–‡æ˜ï¼Œè€Œä¸æ˜¯ç»™æ–‡æ˜ä»¥å²æœˆã€‚

## é¢˜ç›®æè¿°

å°æ˜å¾ˆå–œæ¬¢æ•°å­¦,æœ‰ä¸€å¤©ä»–åœ¨åšæ•°å­¦ä½œä¸šæ—¶,è¦æ±‚è®¡ç®—å‡º9~16çš„å’Œ,ä»–é©¬ä¸Šå°±å†™å‡ºäº†æ­£ç¡®ç­”æ¡ˆæ˜¯100ã€‚ä½†æ˜¯ä»–å¹¶ä¸æ»¡è¶³äºæ­¤,ä»–åœ¨æƒ³ç©¶ç«Ÿæœ‰å¤šå°‘ç§è¿ç»­çš„æ­£æ•°åºåˆ—çš„å’Œä¸º100(è‡³å°‘åŒ…æ‹¬ä¸¤ä¸ªæ•°)ã€‚æ²¡å¤šä¹…,ä»–å°±å¾—åˆ°å¦ä¸€ç»„è¿ç»­æ­£æ•°å’Œä¸º100çš„åºåˆ—:18,19,20,21,22ã€‚ç°åœ¨æŠŠé—®é¢˜äº¤ç»™ä½ ,ä½ èƒ½ä¸èƒ½ä¹Ÿå¾ˆå¿«çš„æ‰¾å‡ºæ‰€æœ‰å’Œä¸ºSçš„è¿ç»­æ­£æ•°åºåˆ—? Good Luck!

### è¾“å…¥æè¿°

> è¾“å‡ºæ‰€æœ‰å’Œä¸ºSçš„è¿ç»­æ­£æ•°åºåˆ—ã€‚åºåˆ—å†…æŒ‰ç…§ä»å°è‡³å¤§çš„é¡ºåºï¼Œåºåˆ—é—´æŒ‰ç…§å¼€å§‹æ•°å­—ä»å°åˆ°å¤§çš„é¡ºåº

## é¢˜è§£

```python
def find_continuous_sequence(target):
    """ æ»‘åŠ¨çª—å£ """
    i = 1  # æ»‘åŠ¨çª—å£çš„å·¦è¾¹ç•Œ
    j = 1  # æ»‘åŠ¨çª—å£çš„å³è¾¹ç•Œ
    tsum = 0  # æ»‘åŠ¨çª—å£ä¸­æ•°å­—çš„å’Œ
    res = []

    while i <= target // 2:
        if tsum < target:
            # å³è¾¹ç•Œå‘å³ç§»åŠ¨
            tsum += j
            j += 1
        elif tsum > target:
            tsum -= i
            i += 1
        else:
            # è®°å½•ç»“æŸ
            arr = list(range(i, j))
            res.append(arr)
            # å·¦è¾¹ç•Œå‘å³ç§»åŠ¨
            tsum -= i
            i += 1
    return res
```

```python
def find_continuous_sequence(target):
    """ æ±‚æ ¹æ³• """
    res = []
    if target == 1:
      return res

    # y ä¸èƒ½è¶…è¿‡ target çš„ä¸­å€¼ï¼Œå³ y<=target//2 + 1
    for y in range(1, target // 2 + 2):
        x = (1/4 + y**2 + y - 2*target) ** (1/2) + 1/2
        if type(x) != complex and x - int(x) == 0:
            res.append(list(range(int(x), y+1)))

    return res
```

```python
def find_continuous_sequence(target):
    """ é—´éš”æ³• """
    i, res = 1, []
    while i*(i+1)/2 < target:
        if not (target - i*(i+1)/2) % (i+1):
            x = int(target - i*(i+1)/2) // (i+1)
            res.append(list(range(x, x+i+1)))
        i += 1
    # ç”±äºé—´éš”æ˜¯ä»å°åˆ°å¤§ï¼Œæ„å‘³ç€[x,y]åˆ—è¡¨æ˜¯ä»å¤§åˆ°å°çš„é¡ºåºæ”¾å…¥resçš„
    return res[::-1]
```

ğŸ¥ **è€ƒå¯Ÿè¦ç‚¹**ï¼šæ•°å­¦ã€å‰ç¼€å’Œã€æ»‘åŠ¨çª—å£ã€æ±‚æ ¹æ³•
ğŸ¬ **è§£é¢˜æ€è·¯**ï¼š

- **æ»‘åŠ¨çª—å£**ï¼šä¸€ä¸ªå·¦é—­å³å¼€åŒºé—´ `[i, j)`. å…¶æ€§è´¨æ˜¯*çª—å£çš„å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œæ°¸è¿œåªèƒ½å‘å³ç§»åŠ¨ã€‚*
- **æ±‚æ ¹æ³•**ï¼šç­‰å·®æ•°åˆ—å…¬å¼ä¸º `Sn = n(a1+an) / 2`.
  - ç”± `(x+y)(y-x+1) / 2 = t` å¯å¾— `x^2-x-y^2-y+2t = 0`;
  - ç”±æ±‚æ ¹å…¬å¼ `x1,2 = (-b +- (b^2-4ac)^(1/2)) / 2a` å¯å¾— `x = (y^2+y-2t+1/4)^(1/2) + 1/2`.
- **é—´éš”æ³•**ï¼š`i = y - x`
  - ç”± `(2x+i)(i+1)/2 = t` å¯å¾— `x = (t - i(i+1)/2) / (i+1)`l
  - ç”±äº `x` å¿…é¡»æ˜¯æ­£æ•´æ•°ï¼Œæ•… `i(i+1)/2` å¿…é¡»å°äº `t`.

ğŸ‰ **æ—¶é—´å¤æ‚åº¦**ï¼šO(n)
ğŸ­ **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)
