# 48 ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•

> ğŸŒŸ **å‰‘æŒ‡ Offer ç³»åˆ—**
>
> ç»™å²æœˆä»¥æ–‡æ˜ï¼Œè€Œä¸æ˜¯ç»™æ–‡æ˜ä»¥å²æœˆã€‚

## é¢˜ç›®æè¿°

å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨+ã€-ã€*ã€/å››åˆ™è¿ç®—ç¬¦å·ã€‚

## é¢˜è§£

```python
def add(num1, num2):
    x = 0xffffffff
    num1, num2 = num1 & x, num2 & x
    while num2 != 0:
        num1, num2 = num1 ^ num2, (num1 & num2) << 1 & x
    # æŸ¥çœ‹ç¬¦å·ä½ï¼Œæ­£æ•°åˆ™ç›´æ¥è¿”å›ï¼Œè´Ÿæ•°åˆ™è¿”å› ~(a^0xffffffff) ~ è¡¨ç¤ºæŒ‰ä½å–å
    return num1 if num1 <= 0x7fffffff else -(num1 ^ x)
```

![1](https://tva1.sinaimg.cn/large/007S8ZIlly1gisl65jwqjj316i0a2wf1.jpg)

ğŸ¥ **è€ƒå¯Ÿè¦ç‚¹**ï¼šä½è¿ç®—

ğŸ¬ **è§£é¢˜æ€è·¯**ï¼š**æ— è¿›ä½å’Œ**ä¸**å¼‚æˆ–è¿ç®—**è§„å¾‹ç›¸åŒï¼Œ**è¿›ä½**ä¸**ä¸è¿ç®—**è§„å¾‹ç›¸åŒï¼ˆå¹¶éœ€å·¦ç§»ä¸€ä½ï¼‰ã€‚æ•… `n = a^b, c  = (a&b) << 1`.

- *(å’Œ s) = (éè¿›ä½å’Œ n) + (è¿›ä½ c)*, å¾ªç¯æ±‚ `n` å’Œ `c`, ç›´åˆ°è¿›ä½ `c = 0`, æ­¤æ—¶ `s = n`. è¿”å› `n` å³å¯ã€‚

ğŸ‰ **æ—¶é—´å¤æ‚åº¦**ï¼šO(1)

ğŸ­ **ç©ºé—´å¤æ‚åº¦**ï¼šO(1)
